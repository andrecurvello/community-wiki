= About =

Das U-Boot, the universal bootloader, is a popular bootloader for embedded systems. For information about the project itself see its [http://www.denx.de/wiki/U-Boot webpage].

This page contains information about the OpenRISC 1000 architecture port and board additions.

= Downloading =

The u-boot code with basic OpenRISC 1000 support is found on the openrisc.net git tree.

 <nowiki>git clone git://openrisc.net/stefan/u-boot</nowiki>

= Creating a Linux kernel boot image =

To create a u-boot Linux kernel boot image, a tool called mkimage is used.
It is available in u-boot's tools/ directory and the following command can be used to create a not compressed kernel image called 'uImage' with load address at 0 and entry point at 0x100
 <nowiki>tools/mkimage -n 'Linux for OpenRISC' -A or1k -O linux -T kernel -C none -a 0 -e 0x100 -d /path/to/vmlinux.bin uImage</nowiki>

= Booting from tftp =

First, the net settings have to be setup. There are two ways of doing this.
One way is to edit the configuration file for the active board port, which is located at '''include/configs/boardname.h'''
The other way is to edit them by using the ''setenv'' command. To see the current settings, use the ''printenv'' command.
When u-boot's net configuration is properly setup, and a tftp server is running, the following command is used to load the file uImage into RAM.
 <nowiki>tftpboot uImage</nowiki>
When the image has finished loading, it can be booted by using the ''bootm'' command.
 <nowiki>bootm</nowiki>

= Supported boards =

The supported boards so far are board ports from [[ORPSoC]].

== ordb1a3pe1500 ==
This board is the [[FPGA_Development_Boards#ORSoC_OpenRISC_development_board | ORSoC Actel development board ]] with an A3PE1500 Actel part on it.

The board config is far from complete, see the file include/configs/ordb1a3pe1500.h for more information on the config.

To build for this board run:
 <nowiki>make ordb1a3pe1500_config
make</nowiki>

== ml501 ==
This board is a [[FPGA_Development_Boards#Xilinx_ML501 | Xilinx Virtex 5 development board]].

 <nowiki>make ml501_config
make</nowiki>

== atlys ==
This board is a [[FPGA_Development_Boards#Digilent_Atlys | Xilinx Spartan 6 development board from Digilent]].

 <nowiki>make atlys_config
make</nowiki>

== de0_nano ==
This board is a [[FPGA_Development_Boards#Terasic_DE0_Nano | Altera Cyclone IV development board from Terasic]].

 <nowiki>make de0_nano_config
make</nowiki>
